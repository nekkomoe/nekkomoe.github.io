<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>noip 一些常见套路 | Zhuoyu Chen</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="noip,套路," />
  

  <meta name="description" content="1对于一类期望类事件，比如说 hdu 5245 首先如果每个元素贡献独立，但如果产生多次贡献算一次，则可以算不产生贡献的概率，用 $1$ 减去这个值就是产生贡献的概率，然后乘以相应的权值即可 2在一棵树上，如果给定一个点集 $S$，同时给定一个点 $p$ 设 $(u,v)$ 是 $S$ 的直径，那么 $p$ 到 $S$ 的最远距离是 $\max(dis(u,p),dis(v,p))$ 一般的，">
<meta property="og:type" content="article">
<meta property="og:title" content="noip 一些常见套路">
<meta property="og:url" content="https://nekko.moe/other/noip-mess/index.html">
<meta property="og:site_name" content="Zhuoyu Chen">
<meta property="og:description" content="1对于一类期望类事件，比如说 hdu 5245 首先如果每个元素贡献独立，但如果产生多次贡献算一次，则可以算不产生贡献的概率，用 $1$ 减去这个值就是产生贡献的概率，然后乘以相应的权值即可 2在一棵树上，如果给定一个点集 $S$，同时给定一个点 $p$ 设 $(u,v)$ 是 $S$ 的直径，那么 $p$ 到 $S$ 的最远距离是 $\max(dis(u,p),dis(v,p))$ 一般的，">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-10-23T12:00:29.000Z">
<meta property="article:modified_time" content="2019-07-10T07:42:36.000Z">
<meta property="article:author" content="Zhuoyu Chen">
<meta property="article:tag" content="noip">
<meta property="article:tag" content="套路">
<meta name="twitter:card" content="summary">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/personal-style.css">

  

  
<link rel="stylesheet" href="/css/copy-code.css">


  

  

  


  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

<meta name="generator" content="Hexo 8.1.1"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1"><span class="toc-text">1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2"><span class="toc-text">2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3"><span class="toc-text">3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4"><span class="toc-text">4</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5"><span class="toc-text">5</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6"><span class="toc-text">6</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7"><span class="toc-text">7</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8"><span class="toc-text">8</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9"><span class="toc-text">9</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10"><span class="toc-text">10</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11"><span class="toc-text">11</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12"><span class="toc-text">12</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13"><span class="toc-text">13</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14"><span class="toc-text">14</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15"><span class="toc-text">15</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#16"><span class="toc-text">16</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#17"><span class="toc-text">17</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#18"><span class="toc-text">18</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#19"><span class="toc-text">19</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#20"><span class="toc-text">20</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#21"><span class="toc-text">21</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#22"><span class="toc-text">22</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#23"><span class="toc-text">23</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#24"><span class="toc-text">24</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#25"><span class="toc-text">25</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#26"><span class="toc-text">26</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#27"><span class="toc-text">27</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#28"><span class="toc-text">28</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#29"><span class="toc-text">29</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#30"><span class="toc-text">30</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#31"><span class="toc-text">31</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#32"><span class="toc-text">32</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#33"><span class="toc-text">33</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#34"><span class="toc-text">34</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#35"><span class="toc-text">35</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#36"><span class="toc-text">36</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#37"><span class="toc-text">37</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#38"><span class="toc-text">38</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#39"><span class="toc-text">39</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#39-1"><span class="toc-text">39</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#40"><span class="toc-text">40</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#41"><span class="toc-text">41</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#42"><span class="toc-text">42</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#43"><span class="toc-text">43</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#44"><span class="toc-text">44</span></a></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-other/noip-mess" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">noip 一些常见套路</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2018.10.23</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Zhuoyu Chen</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/other/">other</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=33051091&height=66"></iframe>

<h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><p>对于一类期望类事件，比如说 <a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5245">hdu 5245</a></p>
<p>首先如果每个元素贡献独立，但如果产生多次贡献算一次，则可以算不产生贡献的概率，用 $1$ 减去这个值就是产生贡献的概率，然后乘以相应的权值即可</p>
<h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><p>在一棵树上，如果给定一个点集 $S$，同时给定一个点 $p$</p>
<p>设 $(u,v)$ 是 $S$ 的直径，那么 $p$ 到 $S$ 的最远距离是 $\max(dis(u,p),dis(v,p))$</p>
<p>一般的，两个点集之间的最远距离等于两个点集的直径的交叉距离的最大值</p>
<h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p>如果某个求和不太好做的话，不妨枚举每一个元素，然后求其对答案贡献多少</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P2221">【HAOI2012】高速公路</a></p>
<h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p>如果计算一个东西，有两种做法，一种复杂度是 $O(x)$ 的，另一种复杂度是 $O(\frac{n}{x})$ 的</p>
<p>此时可以将 $x \le \sqrt n$ 的用前者解决解决，而 $x \gt \sqrt n$ 的用后者解决</p>
<h1 id="5"><a href="#5" class="headerlink" title="5"></a>5</h1><p>如果某个东西比较小，比如说：某个字符的出现次数、允许不匹配的次数</p>
<p>不妨考虑暴力</p>
<h1 id="6"><a href="#6" class="headerlink" title="6"></a>6</h1><p>如果某题是要求枚举子集，但数据范围很大，不妨枚举每个元素会对答案产生的贡献</p>
<p>如果在序列上，还可以寻找相邻项的不同之处</p>
<h1 id="7"><a href="#7" class="headerlink" title="7"></a>7</h1><p>对于括号序列的匹配问题，一般来说用栈就行了，而且是能匹配就匹配</p>
<h1 id="8"><a href="#8" class="headerlink" title="8"></a>8</h1><p>枚举子集的子集的复杂度：<br>$$<br>\sum_{i&#x3D;0}^{T} {T \choose i}2^i&#x3D;3^T<br>$$<br>特别的，对于枚举 $k$ 重子集的方案数为 $(k+1)^T$</p>
<h1 id="9"><a href="#9" class="headerlink" title="9"></a>9</h1><p>在 <strong>八数码</strong> 问题中，可能会遇到如何给 $9!$ 个状态哈希，当然双哈希是可以的</p>
<p>然而单哈希有时候也是可以的</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> base = <span class="number">149</span>, mod = <span class="number">1e9</span> + <span class="number">7</span>; <span class="comment">// 这个会有冲突</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> base = <span class="number">137</span>, mod = <span class="number">998244853</span>; <span class="comment">// 这个神奇的不会产生冲突</span></span><br></pre></td></tr></table></figure>

<h1 id="10"><a href="#10" class="headerlink" title="10"></a>10</h1><p>设 $dia(T)$ 表示树 $T$ 的直径 $(a,b)$，那么 $dia(T \cup {c}) \in {(a,b),(a,c),(b,c)}$</p>
<h1 id="11"><a href="#11" class="headerlink" title="11"></a>11</h1><p>如果正着思考不行的话，不如将操作反着来</p>
<p><a target="_blank" rel="noopener" href="https://www.nowcoder.com/acm/contest/17/A">Cut</a></p>
<h1 id="12"><a href="#12" class="headerlink" title="12"></a>12</h1><p>判读 ${n \choose m}$ 的奇偶性：当 $n&amp;m &#x3D;m$ 的时候是奇数，反之是偶数</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/fzl194/p/9045315.html">3300. 奇数统计</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/leomessi-/p/7499272.html">如何判断组合数的奇偶</a></p>
<h1 id="13"><a href="#13" class="headerlink" title="13"></a>13</h1><p>固定 $n$ 后的 ${n \choose m}$ 的最大值是 ${n \choose \frac{n}{2}}$</p>
<p>特别的，在 $n&#x3D;20$ 的时候，${20 \choose 10}$ 大约是 $1.8 \times 10^6$</p>
<h1 id="14"><a href="#14" class="headerlink" title="14"></a>14</h1><p>在爆搜的时候，状态数可能比你想象的要少许多</p>
<p><code>map</code> 可能比你想象的要慢很多，但 <code>哈希挂链</code> 可能比你想象的要快很多</p>
<h1 id="15"><a href="#15" class="headerlink" title="15"></a>15</h1><p>如果数据范围不大，比如说 $20 \sim 30$，而且爆搜一下极限数据后发现状态数不大</p>
<p>之后就可以小点暴力，大点直接 $map$ 或哈希表存状态后爆搜</p>
<p>当然也可能是 $bitset$ 暴力之类的</p>
<h1 id="16"><a href="#16" class="headerlink" title="16"></a>16</h1><p>遇到 <strong>二进制</strong> <strong>位运算</strong> <strong>贡献位互不相关</strong> 后直接考虑拆位做就行了</p>
<h1 id="17"><a href="#17" class="headerlink" title="17"></a>17</h1><p><a target="_blank" rel="noopener" href="http://blog.miskcoo.com/2014/09/power-sum">Miskcoo 幂和</a></p>
<p><del>于是胡乱想了一个式子……不知道对不对……</del></p>
<p>若 $\forall x \in [0,n+1] \cap \mathbb{Z}$ 有 $f(x) \in \mathbb{Z}$ 成立，且 $f$ 连续又可积，则有：</p>
<p>$$<br>\sum_{i&#x3D;0}^{n} f(i)&#x3D;\left(\int_{0}^{n+1}f(x)dx \right)-\left(\sum_{i&#x3D;0}^{n}\int_{i}^{i+1}\left(f(x)-f(i)\right)dx\right)<br>$$</p>
<p><del>upd: 然而这个式子的确没有什么用……</del></p>
<h1 id="18"><a href="#18" class="headerlink" title="18"></a>18</h1><p>遇到图论不妨先缩个连通分量</p>
<h1 id="19"><a href="#19" class="headerlink" title="19"></a>19</h1><p>看到 <strong>至少</strong> <strong>最小值最大</strong> 或者 <strong>答案至少&#x2F;至多为某个数存在单调性</strong> 后可以套二分</p>
<h1 id="20"><a href="#20" class="headerlink" title="20"></a>20</h1><p>有选择 $k$ 个的限制后，打表找规律看能否带权二分</p>
<h1 id="21"><a href="#21" class="headerlink" title="21"></a>21</h1><p><strong>如果不会写正解，一定要记得去写部分分！！！</strong></p>
<h1 id="22"><a href="#22" class="headerlink" title="22"></a>22</h1><p>遇到输入只给 $n$ 之类的，三种方法：</p>
<ol>
<li>数学方法推式子</li>
<li>暴力打表找规律</li>
<li>暴力dp跑矩乘</li>
</ol>
<h1 id="23"><a href="#23" class="headerlink" title="23"></a>23</h1><p>如果遇到关于位运算的子集之类问题，有如下方向：</p>
<ol>
<li>高维前&#x2F;后缀和&#x2F;极值</li>
<li>（图论中）每个值向去掉某一位后连边</li>
</ol>
<h1 id="24"><a href="#24" class="headerlink" title="24"></a>24</h1><p>关于存图：</p>
<p><code>vector</code> 慢到无法想象，手写链表大法好</p>
<p>（当然也适用于 <code>哈希表</code> 和 <code>存每个数的约数</code>）</p>
<h1 id="25"><a href="#25" class="headerlink" title="25"></a>25</h1><p>注意 <strong>数据范围</strong></p>
<p>记得开 <code>long long</code></p>
<h1 id="26"><a href="#26" class="headerlink" title="26"></a>26</h1><p>线段相当于两条射线的交</p>
<p>多边形相当于若干个半平面的交</p>
<p>于是一些求交集最小的问题可以转化为若干简单图形的交的问题</p>
<h1 id="27"><a href="#27" class="headerlink" title="27"></a>27</h1><p>常见打表找规律法：</p>
<ol>
<li>瞪眼法：将所有小数据都用暴力跑出来，然后瞪着它们直到发现规律</li>
<li>扰动法：差分&#x2F;前缀和</li>
<li>假设可以递推法：若系数是常数，直接无脑算系数，否则用瞪眼法</li>
<li><a target="_blank" rel="noopener" href="https://czyhe.me/algorithm/in-ex/in-ex/">容斥系数找规律</a></li>
<li>$f_i&#x3D;\sum g_jf_j$，当然 <del>很有可能</del> 是 $f_o&#x3D;\sum(j+t_j)f_j$</li>
<li>遇到多维限制，比如说求的是 $f(x,y)$，不妨固定一维，然后就转化成了降一维度后的问题了，即 $g_x(y)$</li>
</ol>
<h1 id="28"><a href="#28" class="headerlink" title="28"></a>28</h1><p>树状数组记得下标不能为 $0$</p>
<h1 id="29"><a href="#29" class="headerlink" title="29"></a>29</h1><p>在数据分治的时候小心爆空间</p>
<p><code>dev</code> 的 <code>bin</code> 目录下有一个叫做 <code>size</code> 的命令，十分好用</p>
<h1 id="30"><a href="#30" class="headerlink" title="30"></a>30</h1><p>关于输出：</p>
<p><code>long long</code>：<code>%lld</code></p>
<p><code>float/double</code>：<code>%f</code>，当然可以 <code>printf(&quot;%Lf&quot;, (long double) x);</code></p>
<p><code>long dobule</code>：<code>%Lf</code></p>
<p>当然可以：<code>cout &lt;&lt; fixed &lt;&lt; setprecision(n) &lt;&lt; x;</code></p>
<h1 id="31"><a href="#31" class="headerlink" title="31"></a>31</h1><p>提交前一定要编译一下，<code>CE</code> 就很惨了</p>
<p>注意看编译命令，有没有开 <code>-std=c++11</code> 之类的</p>
<h1 id="32"><a href="#32" class="headerlink" title="32"></a>32</h1><p><strong>约数个数很少</strong></p>
<p>你以为是 $O(\sqrt T)$ 级别的？然而 $1 \sim T$ 中所有数的约数个数之和才 $O(T \log T)$ 级别</p>
<h1 id="33"><a href="#33" class="headerlink" title="33"></a>33</h1><p>Linux 下：</p>
<ol>
<li><code>-fsanitize=address</code> 可以查RE(G++ 4.8+)</li>
<li><code>-fsanitize=undefined</code> 可以查UB(比如说爆int什么的)(G++ 4.9+)</li>
<li>最新的NOI Linux 只有G++ 4.8.4</li>
</ol>
<h1 id="34"><a href="#34" class="headerlink" title="34"></a>34</h1><p>遇到最优解问题注意初值！！！</p>
<p>比如说 <strong>51nod 1444 破坏道路</strong>，若如果两条路径没有交集，注意赋相应初值</p>
<h1 id="35"><a href="#35" class="headerlink" title="35"></a>35</h1><p>遇到排列计数问题，然后数据范围 $1000$，不妨考虑从 $1$ 到 $n$ 依次插入进去后的改变量</p>
<p>一般使用动态规划</p>
<h1 id="36"><a href="#36" class="headerlink" title="36"></a>36</h1><p>一些出题人可能由于种种原因胡乱造数据（@cmd2001）</p>
<p>于是正解往往会被奇怪的骗分给跑过去</p>
<p>（比如说判断大质数，跑了一次 <strong>费马测试</strong> 就跑过去的那种）</p>
<h1 id="37"><a href="#37" class="headerlink" title="37"></a>37</h1><p>看到数数题，如果数据范围不超过 $10^{10}$，可能暗示需要手动每隔 $1000$ 个数左右打个表，剩下的暴力</p>
<h1 id="38"><a href="#38" class="headerlink" title="38"></a>38</h1><p><strong>一定不要忘了还有一种叫做记忆化搜索的东西</strong></p>
<p><strong>转移如果有环的话不妨想一想 $spfa$ 优化转移</strong></p>
<h1 id="39"><a href="#39" class="headerlink" title="39"></a>39</h1><p>如果给定矩阵，然后问有多少个子矩阵符合某种条件，一般有两种做法：</p>
<ol>
<li>枚举左上角，枚举右下角，然后判断是否合法</li>
<li>枚举上边界，枚举下边界，然后考虑顶着上下边界的矩形中有多少合法的</li>
</ol>
<p>一般来说，第二种做法比较通用</p>
<h1 id="39-1"><a href="#39-1" class="headerlink" title="39"></a>39</h1><p>暴力大法好</p>
<ol>
<li>枚举答案&#x2F;二分答案&#x2F;三分答案</li>
<li>求所有答案的交集？<a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P3967">TJOI2014 匹配</a>，不妨直接枚举删掉某个边后答案会不会不是最优，如果不是最优那么就是必要边</li>
<li>静态区间询问：先想暴力，然后看看能不能改成分块&#x2F;莫队</li>
</ol>
<h1 id="40"><a href="#40" class="headerlink" title="40"></a>40</h1><p>注意审题，比如说 <a target="_blank" rel="noopener" href="https://www.luogu.org/problemnew/show/P3745">【六省联考2017】期末考试</a>，影响答案的只有最后一科考试结果的产生时间有关，和之前的无关</p>
<h1 id="41"><a href="#41" class="headerlink" title="41"></a>41</h1><p>二分图匹配是个好东西</p>
<h1 id="42"><a href="#42" class="headerlink" title="42"></a>42</h1><p><strong>小心变量覆盖</strong> 这个是致命的</p>
<p>（尤其是小数据都拍过去了，然后大数据跑一个挂一个）</p>
<h1 id="43"><a href="#43" class="headerlink" title="43"></a>43</h1><p>$kmp$ 的 $next$ 数组是可以倍增的，于是可以强行做一些神奇的事情，如：<a target="_blank" rel="noopener" href="https://www.luogu.org/blog/cjyyb/solution-p2375">【NOI2014 动物园】的一种神奇做法</a></p>
<p>如果要求 $s$ 在 $t$ 中出现的所有位置，那么可以构造一个字符串 $s$t$，显然所有 $next$ 值等于 $\mid s \mid$ 的地方都是合法的右端点</p>
<p>注意 $next$ 数组的定义：最长的前缀长度，使得该前缀等于对应长度的后缀，同时前缀严格不等于整个字符串，即 $next_i &lt; i$</p>
<h1 id="44"><a href="#44" class="headerlink" title="44"></a>44</h1><p>只用 $1 \sim n$ 可以凑出来 $1 \sim \frac{n(n+1)}{2}$ 中的所有数（每个数只能用一次）</p>
<p>于是有一个鬼畜的题</p>
<blockquote>
<p>定义 $n$ 是一个好数当且仅当 $\forall T \subseteq S&#x3D;\mathbb{N} \cap [1,n]$，满足 $\sum T&#x3D;(\sum S)-(\sum T)$</p>
<p>试判断 $n$ 是否是好数</p>
</blockquote>
<p>$\sum T&#x3D;(\sum S)-(\sum T) \Rightarrow \sum T&#x3D;\frac{n(n+1)}{4}$</p>
<p>首先 $n$ 的先决条件是 $4 \mid n(n+1)$</p>
<p>有一种构造 $k$ 的方法（$1 \le k \le \frac{n(n+1)}{2}$）：</p>
<blockquote>
<p>从 $n$ 到 $1$ 依次枚举 $i$，如果 $k-i \ge 0$，那么就把 $k$ 减去 $i$</p>
</blockquote>
<p>（似乎这种方式构造出 $k$ 用的元素最少）</p>

    
  </div>

   
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        $(document).ready(function() {
            var mermaid_config = {
                startOnLoad: true,
                theme: 'default',
                flowchart:{
                    useMaxWidth: false,
                    htmlLabels: true
                }                
            }
            mermaid.initialize(mermaid_config);
        });
    </script>   <!-- 修改 结束位置 --> 
  
</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/other/mis-pro/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/other/noip-template/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

<!--
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script>
-->

<!--
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
-->

<script>
    // MathJax.Hub.Config({
    // "HTML-CSS": { 
    //     preferredFont: "TeX", 
    //     availableFonts: ["STIX","TeX"], 
    //     linebreaks: { automatic:true }, 
    //     EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) 
    // },
    // tex2jax: { 
    //     inlineMath: [ ["$", "$"], ["\\(","\\)"] ], 
    //     processEscapes: true, 
    //     ignoreClass: "tex2jax_ignore|dno",
    //     skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    // },
    // TeX: {  
    //     equationNumbers: { autoNumber: "AMS" },
    //     noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, 
    //     Macros: { href: "{}" },
    //     packages: {'[+]': ['physics']},
    //     physics: {
    //       italicdiff: false,
    //       arrowdel: false
    //     }
    // },
    // loader: {load: ['[tex]/physics']},
    // messageStyle: "none"
    // }); 


    window.MathJax = {
        loader: {load: ['[tex]/physics']},
        tex: {
            packages: {'[+]': ['physics']},
            inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        },
    };
</script>
<!-- 给MathJax元素添加has-jax class -->
<script>
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js"></script>
<script src="/js/copy-code.js"></script>
<script src="/js/copy-tex.js"></script>

</body>
</html>
